```roomsql

DROP TRIGGER IF EXISTS trigger_delete_child_categories ON public."financial_categories";
DROP FUNCTION IF EXISTS public.delete_child_categories_on_parent_delete();

CREATE OR REPLACE FUNCTION public.delete_child_categories_on_parent_delete()
RETURNS TRIGGER AS $$
BEGIN
    IF TG_OP = 'DELETE' THEN
        RAISE NOTICE 'Deleting child categories for parent_id: % (Name: %)', OLD.id, OLD.name; -- Assuming 'name' column exists for logging

        DELETE FROM public."financial_categories"
        WHERE parent_id = OLD.id;
    END IF;

    RETURN OLD;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
CREATE TRIGGER trigger_delete_child_categories
AFTER DELETE ON public."financial_categories"
FOR EACH ROW
EXECUTE FUNCTION public.delete_child_categories_on_parent_delete();

```
